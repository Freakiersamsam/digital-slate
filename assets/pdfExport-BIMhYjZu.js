const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-YcO8zVxc.js","assets/index-B7uOb1Zh.js","assets/index-CU_Bohoc.css"])))=>i.map(i=>d[i]);
import{_ as N}from"./index-B7uOb1Zh.js";async function Y({notes:h,slateInfo:u,sessionStart:R,filename:E="digital-slate-session.pdf"}){if(!h||h.length===0){alert("No notes to export!");return}const{jsPDF:_}=await N(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-YcO8zVxc.js").then(n=>n.j);return{jsPDF:o}},__vite__mapDeps([0,1,2])),t=new _({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),a={primary:"#3a3a3a",background:"#f7f5f3",cardBg:"#faf8f6",border:"#e8e4e0",text:{primary:"#4a4a4a",secondary:"#7a7a7a",light:"#999999"}},r=o=>{const n=o.replace("#",""),v=parseInt(n.substr(0,2),16),m=parseInt(n.substr(2,2),16),f=parseInt(n.substr(4,2),16);return[v,m,f]},e=20,x=210,s=x-e*2,w=35;t.setFillColor(...r(a.background)),t.rect(0,0,x,w,"F"),t.setFillColor(...r(a.primary)),t.roundedRect(e,8,s,20,2,2,"F"),t.setTextColor(...r("#ffffff")),t.setFontSize(18),t.setFont("helvetica","normal"),t.text("ðŸŽ¬ Digital Slate",e+8,20),t.setFontSize(11),t.setFont("helvetica","normal");const C=`Exported ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`;t.getTextWidth(C),t.text(C,x-e-8,20,{align:"right"});const d=w+15,F=25;t.setFillColor(...r(a.border)),t.roundedRect(e+1,d+1,s,F,3,3,"F"),t.setFillColor(...r(a.cardBg)),t.roundedRect(e,d,s,F,3,3,"F"),t.setDrawColor(...r(a.border)),t.setLineWidth(.5),t.roundedRect(e,d,s,F,3,3,"S"),t.setTextColor(...r(a.text.primary)),t.setFontSize(14),t.setFont("helvetica","normal"),t.text("Session Overview",e+8,d+10),t.setFontSize(9),t.setTextColor(...r(a.text.secondary));const L=[{label:"Production:",value:(u==null?void 0:u.prod)||"Not specified"},{label:"Started:",value:new Date(R).toLocaleString()},{label:"Total Notes:",value:h.length.toString()}];let b=d+16;const y=25,W=s-16-y;L.forEach(o=>{t.setFont("helvetica","bold"),t.setTextColor(...r(a.text.secondary)),t.text(o.label,e+8,b),t.setFont("helvetica","normal"),t.setTextColor(...r(a.text.primary));const n=t.splitTextToSize(o.value,W);t.text(n[0],e+8+y,b),b+=5});const S=d+F+20,D=12,g=14;t.setFillColor(...r(a.primary)),t.roundedRect(e,S,s,g,2,2,"F");const l=[{title:"Timecode",x:e+4,width:22},{title:"Relative",x:e+28,width:18},{title:"Scene",x:e+48,width:12},{title:"Take",x:e+62,width:12},{title:"Notes",x:e+76,width:110}];t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),l.forEach(o=>{t.text(o.title,o.x,S+9)});let i=S+g+2;t.setFont("helvetica","normal"),t.setFontSize(9),h.forEach((o,n)=>{var f,P;i>270&&(t.addPage(),i=30,t.setFillColor(...r(a.primary)),t.roundedRect(e,i-g,s,g,2,2,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),l.forEach(c=>{t.text(c.title,c.x,i-5)}),i+=2,t.setFont("helvetica","normal"),t.setFontSize(9)),n%2===0&&(t.setFillColor(...r(a.background)),t.rect(e,i-2,s,D,"F"));const v=[{text:o.timecodeIn||"-",x:l[0].x},{text:o.relativeTime||"-",x:l[1].x},{text:((f=o.slateInfo)==null?void 0:f.scene)||"-",x:l[2].x},{text:((P=o.slateInfo)==null?void 0:P.take)||"-",x:l[3].x}];t.setTextColor(...r(a.text.primary)),v.forEach(c=>{t.text(c.text,c.x,i+6)});const m=o.content||"";if(m){const c=t.splitTextToSize(m,l[4].width),k=Math.floor((270-i)/4),T=Math.min(c.length,3,k);for(let p=0;p<T;p++)t.text(c[p],l[4].x,i+6+p*4);T>1&&(i+=(T-1)*4)}i+=D});const z=t.internal.getNumberOfPages();for(let o=1;o<=z;o++)t.setPage(o),t.setDrawColor(...r(a.border)),t.setLineWidth(.5),t.line(e,285,x-e,285),t.setFontSize(8),t.setTextColor(...r(a.text.light)),t.setFont("helvetica","normal"),t.text("Generated by Digital Slate",e,290),t.text(`Page ${o} of ${z}`,x-e,290,{align:"right"});t.save(E)}export{Y as exportSessionPDF};
