const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-9lHlUnfP.js","assets/index-Db90mrec.js","assets/index-CU_Bohoc.css"])))=>i.map(i=>d[i]);
import{_}from"./index-Db90mrec.js";async function k({notes:h,slateInfo:u,sessionStart:y,filename:T="digital-slate-session.pdf"}){if(!h||h.length===0){alert("No notes to export!");return}const{jsPDF:D}=await _(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-9lHlUnfP.js").then(c=>c.j);return{jsPDF:o}},__vite__mapDeps([0,1,2])),t=new D({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),i={primary:"#1a1a1a",background:"#fafafa",cardBg:"#ffffff",border:"#e8e8e8",text:{primary:"#2c2c2c",secondary:"#666666",light:"#999999"}},r=o=>{const c=o.replace("#",""),v=parseInt(c.substr(0,2),16),m=parseInt(c.substr(2,2),16),f=parseInt(c.substr(4,2),16);return[v,m,f]},e=20,d=210,s=d-e*2,S=35;t.setFillColor(...r(i.background)),t.rect(0,0,d,S,"F"),t.setFillColor(...r(i.primary)),t.roundedRect(e,8,s,20,2,2,"F"),t.setTextColor(...r("#ffffff")),t.setFontSize(18),t.setFont("helvetica","normal"),t.text("ðŸŽ¬ Digital Slate",e+8,20),t.setFontSize(11),t.setFont("helvetica","normal");const z=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});t.text(`Exported ${z}`,d-e-8,20,{align:"right"});const x=S+15,F=25;t.setFillColor(...r(i.border)),t.roundedRect(e+1,x+1,s,F,3,3,"F"),t.setFillColor(...r(i.cardBg)),t.roundedRect(e,x,s,F,3,3,"F"),t.setDrawColor(...r(i.border)),t.setLineWidth(.5),t.roundedRect(e,x,s,F,3,3,"S"),t.setTextColor(...r(i.text.primary)),t.setFontSize(14),t.setFont("helvetica","normal"),t.text("Session Overview",e+8,x+10),t.setFontSize(10),t.setTextColor(...r(i.text.secondary));const P=[{label:"Production:",value:(u==null?void 0:u.prod)||"Not specified"},{label:"Started:",value:new Date(y).toLocaleString()},{label:"Total Notes:",value:h.length.toString()}];let p=x+16;P.forEach(o=>{t.setFont("helvetica","bold"),t.setTextColor(...r(i.text.secondary)),t.text(o.label,e+8,p),t.setFont("helvetica","normal"),t.setTextColor(...r(i.text.primary)),t.text(o.value,e+35,p),p+=5});const b=x+F+20,C=12,g=14;t.setFillColor(...r(i.primary)),t.roundedRect(e,b,s,g,2,2,"F");const a=[{title:"Timecode",x:e+4,width:25},{title:"Relative",x:e+32,width:20},{title:"Scene",x:e+55,width:15},{title:"Take",x:e+73,width:15},{title:"Notes",x:e+91,width:95}];t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),a.forEach(o=>{t.text(o.title,o.x,b+9)});let n=b+g+2;t.setFont("helvetica","normal"),t.setFontSize(9),h.forEach((o,c)=>{var m,f;n>270&&(t.addPage(),n=30,t.setFillColor(...r(i.primary)),t.roundedRect(e,n-g,s,g,2,2,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),a.forEach(l=>{t.text(l.title,l.x,n-5)}),n+=2,t.setFont("helvetica","normal"),t.setFontSize(9)),c%2===0&&(t.setFillColor(...r(i.background)),t.rect(e,n-2,s,C,"F"));const v=[{text:o.timecodeIn||"-",x:a[0].x},{text:o.relativeTime||"-",x:a[1].x},{text:((m=o.slateInfo)==null?void 0:m.scene)||"-",x:a[2].x},{text:((f=o.slateInfo)==null?void 0:f.take)||"-",x:a[3].x},{text:o.content||"",x:a[4].x,maxWidth:a[4].width}];t.setTextColor(...r(i.text.primary)),v.forEach((l,R)=>{if(R===4){const E=t.splitTextToSize(l.text,l.maxWidth);t.text(E.slice(0,2),l.x,n+6)}else t.text(l.text,l.x,n+6)}),n+=C});const w=t.internal.getNumberOfPages();for(let o=1;o<=w;o++)t.setPage(o),t.setDrawColor(...r(i.border)),t.setLineWidth(.5),t.line(e,285,d-e,285),t.setFontSize(8),t.setTextColor(...r(i.text.light)),t.setFont("helvetica","normal"),t.text("Generated by Digital Slate",e,290),t.text(`Page ${o} of ${w}`,d-e,290,{align:"right"});t.save(T)}export{k as exportSessionPDF};
